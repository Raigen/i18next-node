<!DOCTYPE HTML>

<html>

<head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>i18next-node: translation made easy</title>
        <link rel='stylesheet' href='public/css/main.css' type='text/css' media='all' />
        <link rel="stylesheet" href="public/css/prettify.css" type="text/css" />
        <link rel="stylesheet" href="public/css/flexible-nav.min.css" type="text/css" />
        <script type="text/javascript" src="public/js/jquery-1.6.4.min.js"></script>
        <script type="text/javascript" src="public/js/prettify.js"></script>
        <script type="text/javascript" src="public/js/flexible-nav.min.js"></script>
</head>

<body>

<div id="forkme">
    <a href="https://github.com/jamuhl/i18next-node"><img src="public/img/gihub_ribbon.png"></a>
</div>

<header>
    <a href="">
        <h2>node.js</h2>
        <h1 id="title" style="display: none;">i18next</h1>
        <h2 id="subtitle" style="display: none;">ranslation made easy</h2>
    </a>
</header>

<section id='content'>

<h1>Introduction</h1>

<p>There are a lot of great node.js i18n modules around but none of them was able to serve the 
clientside aspect of translation. So you will find here the same functionality like in 
<a href="http://jamuhl.github.com/i18next/">i18next</a> on the server plus it will serve all needed stuff to 
bring same resources to the client.</p>

<p>Mostly:</p>

<ul>
<li>express middleware and template support</li>
<li>Usage of namespaces: split needed translation in more than one file (to share them to other projects, eg. for buttons)</li>
<li>load resourcesfiles from filesystem</li>
<li>save missing translations</li>
<li>serve the same functionality to the clientside</li>
</ul>

<p>What else will you find:</p>

<ul>
<li>support for pluralized strings</li>
<li>insertion of variables into translations</li>
<li>translation nesting</li>
<li>translation contexts</li>
</ul>

<h1>Installation</h1>

<pre><code><span class="pln">npm install i18next<br /></span></code></pre>

<h1>Usage Sample</h1>

<p>Add your resourcefile under /locales/en-US/translation.json.</p>

<pre><code><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="str">"app"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"i18n"</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="str">"creator"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="str">"firstname"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Jan"</span><span class="pun">,</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="str">"lastname"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"MÃ¼hlemann"</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br /></span><span class="pun">}</span><span class="pln"><br /></span></code></pre>

<p>Require and init the module:</p>

<pre><code><span class="kwd">var</span><span class="pln"> i18next </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'i18next'</span><span class="pun">);</span><span class="pln"><br />i18next</span><span class="pun">.</span><span class="pln">init</span><span class="pun">()</span><span class="pln"> &nbsp;</span><span class="com">// will init i18n with default settings and set language from request</span><span class="pln"><br /></span></code></pre>

<p>After initialisation you can use <strong>i18next.t()</strong>:</p>

<pre><code><span class="kwd">var</span><span class="pln"> appName </span><span class="pun">=</span><span class="pln"> i18next</span><span class="pun">.</span><span class="pln">t</span><span class="pun">(</span><span class="str">'app.name'</span><span class="pun">);</span><span class="pln"> </span><span class="com">// -&gt; i18n</span><span class="pln"><br /></span></code></pre>

<p>Register the express middleware, so we can check current language settings:</p>

<pre><code><span class="com">// Configuration</span><span class="pln"><br />app</span><span class="pun">.</span><span class="pln">configure</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; app</span><span class="pun">.</span><span class="kwd">use</span><span class="pun">(</span><span class="pln">express</span><span class="pun">.</span><span class="pln">bodyParser</span><span class="pun">());</span><span class="pln"><br />&nbsp; &nbsp; app</span><span class="pun">.</span><span class="kwd">use</span><span class="pun">(</span><span class="pln">i18next</span><span class="pun">.</span><span class="pln">handle</span><span class="pun">);</span><span class="pln"><br />&nbsp; &nbsp; app</span><span class="pun">.</span><span class="kwd">use</span><span class="pun">(</span><span class="pln">app</span><span class="pun">.</span><span class="pln">router</span><span class="pun">);</span><span class="pln"><br /><br />&nbsp; &nbsp; </span><span class="pun">[...]</span><span class="pln"><br /></span><span class="pun">});</span><span class="pln"><br /></span></code></pre>

<p>language will be extracted from:</p>

<ul>
<li>querystring <code>?setLng=en-US</code></li>
<li>header</li>
<li>cookie</li>
</ul>

<p>To change the language on serverside use:</p>

<pre><code><span class="pln">i18next</span><span class="pun">.</span><span class="pln">setLng</span><span class="pun">(</span><span class="str">'de-DE'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">t</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="com">// will load needed resources</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="com">// and set the currentLanguage</span><span class="pln"><br /></span><span class="pun">});</span><span class="pln"><br /></span></code></pre>

<p>To change the language via browser:</p>

<pre><code><span class="com">// querystring</span><span class="pln"><br /></span><span class="pun">?</span><span class="pln">setLng</span><span class="pun">=</span><span class="pln">en</span><span class="pun">-</span><span class="pln">US<br /></span></code></pre>

<p>If no resource string is found in the specific language (en-US) it will be looked up in <em>en</em> befor taken from fallback language. 
If the key is not in the fallback language the key or a optional defaultValue will be displayed:</p>

<pre><code><span class="kwd">var</span><span class="pln"> takeDefault </span><span class="pun">=</span><span class="pln"> t</span><span class="pun">(</span><span class="str">'app.type'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">defaultValue</span><span class="pun">:</span><span class="pln"> </span><span class="str">'OpenSource'</span><span class="pun">});</span><span class="pln"> </span><span class="com">// -&gt; OpenSource</span><span class="pln"><br /></span></code></pre>

<h3>use it in you template</h3>

<p>Register AppHelper so you can use the translate function in your template:</p>

<pre><code><span class="pln">i18next</span><span class="pun">.</span><span class="pln">registerAppHelper</span><span class="pun">(</span><span class="pln">app</span><span class="pun">);</span><span class="pln"><br /></span></code></pre>

<p>Now you can (depending on your template language) do something like this in you template:</p>

<pre><code><span class="com">// sample in jade</span><span class="pln"><br />body<br />&nbsp; &nbsp; span</span><span class="pun">=</span><span class="pln"> t</span><span class="pun">(</span><span class="str">'app.name'</span><span class="pun">)</span><span class="pln"><br /></span></code></pre>

<h3>Basic options for init</h3>

<pre><code><span class="pln">i18next</span><span class="pun">.</span><span class="pln">init</span><span class="pun">({</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; lng</span><span class="pun">:</span><span class="pln"> </span><span class="str">'en-US'</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// defaults to get from request</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="pun">,</span><span class="pln"> fallbackLng</span><span class="pun">:</span><span class="pln"> </span><span class="str">'en'</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com">// defaults to 'dev'</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="pun">,</span><span class="pln"> ns</span><span class="pun">:</span><span class="pln"> </span><span class="str">'myNamespace'</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com">// defaults to 'translation'</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="pun">,</span><span class="pln"> resGetPath</span><span class="pun">:</span><span class="pln"> </span><span class="str">'myFolder/__lng__/__ns__.json'</span><span class="pln"> </span><span class="com">// defaults to 'locales/__lng__/__ns__.json' where ns = translation (default)</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="pun">,</span><span class="pln"> resSetPath</span><span class="pun">:</span><span class="pln"> </span><span class="str">'myFolder/__lng__/__ns__.json'</span><span class="pln"> </span><span class="com">// defaults to 'locales/__lng__/__ns__.json' where ns = translation (default)</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="pun">,</span><span class="pln"> resStore</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{...}</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com">// if you don't want your resources to be loaded you can provide the resources</span><span class="pln"><br /></span><span class="pun">});</span><span class="pln"><br /></span></code></pre>

<h1>Serve the same stuff on clientside</h1>

<p>To serve the clientside script and needed routes for resources and missing keys:</p>

<pre><code><span class="pln">i18next</span><span class="pun">.</span><span class="pln">serveClientScript</span><span class="pun">(</span><span class="pln">app</span><span class="pun">)</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com">// grab i18next.js in browser</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">.</span><span class="pln">serveDynamicResources</span><span class="pun">(</span><span class="pln">app</span><span class="pun">)</span><span class="pln"> &nbsp; &nbsp;</span><span class="com">// route which returns all resources in on response</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">.</span><span class="pln">serveMissingKeyRoute</span><span class="pun">(</span><span class="pln">app</span><span class="pun">);</span><span class="pln"> &nbsp; &nbsp;</span><span class="com">// route to send missing keys</span><span class="pln"><br /></span></code></pre>

<p>to support the dynamic route in client add options</p>

<pre><code><span class="pln">$</span><span class="pun">.</span><span class="pln">i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">({</span><span class="pln"><br />&nbsp; &nbsp; resGetPath</span><span class="pun">:</span><span class="pln"> </span><span class="str">'locales/resources.json?lng=__lng__&amp;ns=__ns__'</span><span class="pun">,</span><span class="pln"><br />&nbsp; &nbsp; dynamicLoad</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"><br /></span><span class="pun">});</span><span class="pln"><br /></span></code></pre>

<p>to support posting of missing keys add option</p>

<pre><code><span class="pln">$</span><span class="pun">.</span><span class="pln">i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">({</span><span class="pln"><br />&nbsp; &nbsp; sendMissing</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"><br /></span><span class="pun">});</span><span class="pln"><br /></span></code></pre>

<p>now you can add the script to you page and use i18next on the client like on the server:</p>

<pre><code><span class="pln">script</span><span class="pun">(</span><span class="pln">src</span><span class="pun">=</span><span class="str">'i18next/i18next.js'</span><span class="pun">,</span><span class="pln"> type</span><span class="pun">=</span><span class="str">'text/javascript'</span><span class="pun">)</span><span class="pln"><br /><br />$</span><span class="pun">.</span><span class="pln">i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">([</span><span class="pln">options</span><span class="pun">],</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> <br />&nbsp; &nbsp; $</span><span class="pun">(</span><span class="str">'#appname'</span><span class="pun">).</span><span class="pln">text</span><span class="pun">(</span><span class="pln">$</span><span class="pun">.</span><span class="pln">t</span><span class="pun">(</span><span class="str">'app.name'</span><span class="pun">));</span><span class="pln"><br /></span><span class="pun">});</span><span class="pln"><br /></span></code></pre>

<p>for more information on clientside usage have a look at <a href="http://jamuhl.github.com/i18next/">i18next</a></p>

<h1>Extended Samples</h1>

<p>In the next section you will find more options to use i18next.</p>

<h3>loading multiple namespaces</h3>

<p>Set the ns option to an array on i18n init:</p>

<pre><code><span class="pln">i18next</span><span class="pun">.</span><span class="pln">init</span><span class="pun">({</span><span class="pln"><br />&nbsp; &nbsp; lng</span><span class="pun">:</span><span class="pln"> </span><span class="str">'en-US'</span><span class="pun">,</span><span class="pln"><br />&nbsp; &nbsp; ns</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> namespaces</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="str">'ns.common'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'ns.special'</span><span class="pun">],</span><span class="pln"> defaultNs</span><span class="pun">:</span><span class="pln"> </span><span class="str">'ns.special'</span><span class="pun">}</span><span class="pln"><br /></span><span class="pun">});</span><span class="pln"><br /></span></code></pre>

<p>This will load <strong>en-US</strong>, <strong>en</strong> and <strong>dev</strong> resources for two namespaces ('ns.special' and 'ns.common'):</p>

<pre><code><span class="pln">locales<br />&nbsp; &nbsp;</span><span class="pun">|</span><span class="pln"><br />&nbsp; &nbsp;</span><span class="pun">+--</span><span class="pln"> en</span><span class="pun">-</span><span class="pln">US<br />&nbsp; &nbsp;</span><span class="pun">|</span><span class="pln"> &nbsp; &nbsp; </span><span class="pun">|</span><span class="pln"><br />&nbsp; &nbsp;</span><span class="pun">|</span><span class="pln"> &nbsp; &nbsp; </span><span class="pun">+--</span><span class="pln"> ns</span><span class="pun">.</span><span class="pln">common<br />&nbsp; &nbsp;</span><span class="pun">|</span><span class="pln"> &nbsp; &nbsp; </span><span class="pun">+--</span><span class="pln"> ns</span><span class="pun">.</span><span class="pln">special<br />&nbsp; &nbsp;</span><span class="pun">|</span><span class="pln"> &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp;</span><span class="pun">+--</span><span class="pln"> en<br />&nbsp; &nbsp;</span><span class="pun">|</span><span class="pln"> &nbsp; &nbsp;</span><span class="pun">|</span><span class="pln"><br />&nbsp; &nbsp;</span><span class="pun">|</span><span class="pln"> &nbsp; &nbsp;</span><span class="pun">+--</span><span class="pln"> ns</span><span class="pun">.</span><span class="pln">common<br />&nbsp; &nbsp;</span><span class="pun">|</span><span class="pln"> &nbsp; &nbsp;</span><span class="pun">+--</span><span class="pln"> ns</span><span class="pun">.</span><span class="pln">special<br />&nbsp; &nbsp;</span><span class="pun">|</span><span class="pln"> <br />&nbsp; &nbsp;</span><span class="pun">+--</span><span class="pln"> dev<br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">|</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">+--</span><span class="pln"> ns</span><span class="pun">.</span><span class="pln">common<br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">+--</span><span class="pln"> ns</span><span class="pun">.</span><span class="pln">special<br /><br /></span><span class="com">// let's asume this will load following resource strings</span><span class="pln"><br /></span><span class="pun">{</span><span class="pln"><br />&nbsp; </span><span class="str">"en_US"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="str">"ns.special"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; </span><span class="str">"app"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"i18n"</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="str">"ns.common"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{}</span><span class="pln"><br />&nbsp; </span><span class="pun">},</span><span class="pln"><br />&nbsp; </span><span class="str">"en"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="str">"ns.special"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; </span><span class="str">"app"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="str">"area"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Area 51"</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="str">"ns.common"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{}</span><span class="pln"><br />&nbsp; </span><span class="pun">},</span><span class="pln"><br />&nbsp; </span><span class="str">"dev"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="str">"ns.common"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; </span><span class="str">"app"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="str">"company"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"my company"</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; </span><span class="str">"add"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"add"</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br />&nbsp; </span><span class="pun">}</span><span class="pln"><br /></span><span class="pun">}</span><span class="pln"><br /></span></code></pre>

<p>you can translate using <em>(i18next.)t([namespace:]key, [options])</em></p>

<pre><code><span class="pln">t</span><span class="pun">(</span><span class="str">'app.name'</span><span class="pun">);</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// -&gt; i18n (from 'en-US' resourcefile)</span><span class="pln"><br />t</span><span class="pun">(</span><span class="str">'app.area'</span><span class="pun">);</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// -&gt; Area 51 (from 'en' resourcefile)</span><span class="pln"><br />t</span><span class="pun">(</span><span class="str">'ns.common:app.company.name'</span><span class="pun">);</span><span class="pln"> </span><span class="com">// -&gt; my company (from 'dev' resourcefile)</span><span class="pln"><br />t</span><span class="pun">(</span><span class="str">'ns.common:add'</span><span class="pun">);</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com">// -&gt; add (from 'dev' resourcefile)</span><span class="pln"><br /></span></code></pre>

<h3>insert values into your translation</h3>

<pre><code><span class="com">// given resource</span><span class="pln"><br /></span><span class="str">"insert"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"you are __myVar__"</span><span class="pun">,</span><span class="pln"><br /><br />t</span><span class="pun">(</span><span class="str">'insert'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">myVar</span><span class="pun">:</span><span class="pln"> </span><span class="str">'great'</span><span class="pun">});</span><span class="pln"> </span><span class="com">// -&gt; you are great</span><span class="pln"><br /></span></code></pre>

<h3>support for plurals</h3>

<pre><code><span class="com">// given resource</span><span class="pln"><br /></span><span class="str">"child"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"__count__ child"</span><span class="pun">,</span><span class="pln"><br /></span><span class="str">"child_plural"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"__count__ children"</span><span class="pln"><br /><br />t</span><span class="pun">(</span><span class="str">'child'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">count</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">});</span><span class="pln"> </span><span class="com">// -&gt; 1 child</span><span class="pln"><br />t</span><span class="pun">(</span><span class="str">'child'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">count</span><span class="pun">:</span><span class="pln"> </span><span class="lit">3</span><span class="pun">});</span><span class="pln"> </span><span class="com">// -&gt; 3 children</span><span class="pln"><br /></span></code></pre>

<p>You can set the <em>pluralSuffix</em> as an option on initialisation.</p>

<h3>extended plural support for multiple plurals</h3>

<pre><code><span class="com">// given resource</span><span class="pln"><br />sl</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> <br />&nbsp; &nbsp; translation</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> <br />&nbsp; &nbsp; &nbsp; &nbsp; beer</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Pivo'</span><span class="pun">,</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; beer_plural_two</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Pivi'</span><span class="pun">,</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; beer_plural_few</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Piva'</span><span class="pun">,</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; beer_plural</span><span class="pun">:</span><span class="pln"> </span><span class="str">'stop drinking ;)'</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"> <br /></span><span class="pun">}</span><span class="pln"><br /><br />t</span><span class="pun">(</span><span class="str">'beer'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">count</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">});</span><span class="pln"> &nbsp; </span><span class="com">// 'Pivo'</span><span class="pln"><br />t</span><span class="pun">(</span><span class="str">'beer'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">count</span><span class="pun">:</span><span class="pln"> </span><span class="lit">2</span><span class="pun">});</span><span class="pln"> &nbsp; </span><span class="com">// Pivi'</span><span class="pln"><br />t</span><span class="pun">(</span><span class="str">'beer'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">count</span><span class="pun">:</span><span class="pln"> </span><span class="lit">3</span><span class="pun">});</span><span class="pln"> &nbsp; </span><span class="com">// Piva'</span><span class="pln"><br />t</span><span class="pun">(</span><span class="str">'beer'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">count</span><span class="pun">:</span><span class="pln"> </span><span class="lit">4</span><span class="pun">});</span><span class="pln"> &nbsp; </span><span class="com">// Piva'</span><span class="pln"><br />t</span><span class="pun">(</span><span class="str">'beer'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">count</span><span class="pun">:</span><span class="pln"> </span><span class="lit">5</span><span class="pun">});</span><span class="pln"> &nbsp; </span><span class="com">// stop drinking ;)'</span><span class="pln"><br /></span></code></pre>

<p><strong>HINT:</strong> For now we added only <em>slovenian</em> to the plural rules set as a sample how to do it, but you can easily add new rules 
on runtime or feel free to fork the project and send a pull request.</p>

<pre><code><span class="pln">$</span><span class="pun">.</span><span class="pln">i18n</span><span class="pun">.</span><span class="pln">pluralExtensions</span><span class="pun">.</span><span class="pln">addRule</span><span class="pun">(</span><span class="str">'sl'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">n</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> n </span><span class="pun">%</span><span class="pln"> </span><span class="lit">100</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="str">'one'</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> n </span><span class="pun">%</span><span class="pln"> </span><span class="lit">100</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="str">'two'</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> n </span><span class="pun">%</span><span class="pln"> </span><span class="lit">100</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> n </span><span class="pun">%</span><span class="pln"> </span><span class="lit">100</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="str">'few'</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="str">'other'</span><span class="pun">;</span><span class="pln"><br /></span><span class="pun">});</span><span class="pln"><br /><br /></span><span class="com">// return value 'one' will map to the singular form '[key]'</span><span class="pln"><br /></span><span class="com">// return value 'other' will map to the common plural form '[key]_plural'</span><span class="pln"><br /></span><span class="com">// return value 'two' will map to the extended plural in form '[key]_plural_two'</span><span class="pln"><br /></span><span class="com">// return value 'few' will map to the extended plural in form '[key]_plural_few'</span><span class="pln"><br /></span></code></pre>

<p>You can find the plural rules on <a href="http://unicode.org/repos/cldr-tmp/trunk/diff/supplemental/language_plural_rules.html">unicode.org</a>.</p>

<h3>translation contexts</h3>

<p>You can provide a translation key in form <code>[key]_[yourContext]</code>. By passing in <em>context</em> through options i18next 
can choose correct form:</p>

<pre><code><span class="com">// given resource</span><span class="pln"><br />en</span><span class="pun">-</span><span class="pln">US</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> <br />&nbsp; &nbsp; translation</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> <br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">friend</span><span class="pun">:</span><span class="pln"> </span><span class="str">'a friend'</span><span class="pun">,</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; friend_male</span><span class="pun">:</span><span class="pln"> </span><span class="str">'a boyfriend'</span><span class="pun">,</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; friend_female</span><span class="pun">:</span><span class="pln"> </span><span class="str">'a girlfriend'</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"> <br /></span><span class="pun">}</span><span class="pln"><br /><br />t</span><span class="pun">(</span><span class="str">'friend'</span><span class="pun">);</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com">// returns default 'a friend'</span><span class="pln"><br />t</span><span class="pun">(</span><span class="str">'friend'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">context</span><span class="pun">:</span><span class="pln"> </span><span class="str">'male'</span><span class="pun">});</span><span class="pln"> &nbsp; &nbsp; </span><span class="com">// returns 'a boyfriend'</span><span class="pln"><br />t</span><span class="pun">(</span><span class="str">'friend'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">context</span><span class="pun">:</span><span class="pln"> </span><span class="str">'female'</span><span class="pun">});</span><span class="pln"> &nbsp; </span><span class="com">// returns 'a girlfriend'</span><span class="pln"><br /></span></code></pre>

<p><strong>hint:</strong> might be a good idea to suffix your keys using context with <em>_context</em>.</p>

<p>You can even use context and plurals in combination:</p>

<pre><code><span class="com">// given resource</span><span class="pln"><br />en</span><span class="pun">-</span><span class="pln">US</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> <br />&nbsp; &nbsp; translation</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> <br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">friend</span><span class="pun">:</span><span class="pln"> </span><span class="str">'__count__ friend'</span><span class="pun">,</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; friend_male</span><span class="pun">:</span><span class="pln"> </span><span class="str">'__count__ boyfriend'</span><span class="pun">,</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; friend_female</span><span class="pun">:</span><span class="pln"> </span><span class="str">'__count__ girlfriend'</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; friend_plural</span><span class="pun">:</span><span class="pln"> </span><span class="str">'__count__ friends'</span><span class="pun">,</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; friend_male_plural</span><span class="pun">:</span><span class="pln"> </span><span class="str">'__count__ boyfriends'</span><span class="pun">,</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; friend_female_plural</span><span class="pun">:</span><span class="pln"> </span><span class="str">'__count__ girlfriends'</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"> <br /></span><span class="pun">}</span><span class="pln"><br /><br />t</span><span class="pun">(</span><span class="str">'friend'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">count</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">});</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="com">// returns '1 friend'</span><span class="pln"><br />t</span><span class="pun">(</span><span class="str">'friend'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">context</span><span class="pun">:</span><span class="pln"> </span><span class="str">'female'</span><span class="pun">,</span><span class="pln"> count</span><span class="pun">:</span><span class="pln"> </span><span class="lit">10</span><span class="pun">});</span><span class="pln"> &nbsp; &nbsp;</span><span class="com">// returns '10 girlfriends'</span><span class="pln"><br /></span></code></pre>

<h3>nesting</h3>

<pre><code><span class="com">// given resource</span><span class="pln"><br /></span><span class="str">"app"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; </span><span class="str">"area"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Area 51"</span><span class="pun">,</span><span class="pln"><br />&nbsp; </span><span class="str">"district"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"District 9 is more fun than $t(app.area)"</span><span class="pln"><br /></span><span class="pun">}</span><span class="pln"><br /><br />t</span><span class="pun">(</span><span class="str">'app.district'</span><span class="pun">);</span><span class="pln"> </span><span class="com">// -&gt; District 9 is more fun than Area 51</span><span class="pln"><br /></span></code></pre>

<h3>store missing resources to filesystem</h3>

<p>Just init i18n with the according options (you shouldn't use this option in production):</p>

<pre><code><span class="pln">i18next</span><span class="pun">.</span><span class="pln">init</span><span class="pun">({</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="com">// ...</span><span class="pln"><br />&nbsp; &nbsp; saveMissing</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"><br />&nbsp; &nbsp; resSetPath</span><span class="pun">:</span><span class="pln"> </span><span class="str">'myFolder/__lng__/__ns__.json'</span><span class="pln"><br /></span><span class="pun">});</span><span class="pln"><br /></span></code></pre>

<h2>Inspiration</h2>

<ul>
<li><a href="https://github.com/akoenig/express-lingua">express-ligua</a></li>
<li><a href="https://github.com/mashpie/i18n-node">i18n-node</a></li>
</ul>

<h2>Release Notes</h2>

<h3>v1.2.3</h3>

<ul>
<li>updated client</li>
</ul>

<h3>v1.2.0</h3>

<ul>
<li>keep version in sync with clientside version</li>
<li>better support to override default sync</li>
<li>support for translation contexts</li>
<li>fixed init without options, callback</li>
</ul>

<h3>v0.5.0</h3>

<ul>
<li>options saveMissing</li>
<li>multiple plurals</li>
<li>bug fix</li>
</ul>

<h3>v0.0.1</h3>

<ul>
<li>tests with mocha</li>
<li>multi-namespace support</li>
<li>loading files from filesystem</li>
<li>clientscript support</li>
<li>graceful fallback en-US -> en -> fallbackLng</li>
<li>support for pluralized strings</li>
<li>insertion of variables into translations</li>
<li>translation nesting</li>
</ul>

</section>

<footer>
        <p>Copyright 2011 Jan MÃ¼hlemann</p>
</footer>


<script type="text/javascript" >
    $(window).load(function () {
        $('#title').fadeIn(1000, function(){
            $('#subtitle').fadeIn(2000);            
        });

        var nav = new FlexibleNavMaker('#content h1, #content h2, #content h3').make().prependTo('body');
        new FlexibleNav(nav);
        $(".flexible-nav").hide();
    });

    var fadeout = null;
    window.onscroll = function() {
        
        clearTimeout(fadeout);
                
        $(".flexible-nav").fadeIn('slow')
        
        fadeout = setTimeout(outlineFadeOut,4000);
    }
    
    var outlineFadeOut = function() {
        $(".flexible-nav").fadeOut()
    }

</script>

</body>

</html>